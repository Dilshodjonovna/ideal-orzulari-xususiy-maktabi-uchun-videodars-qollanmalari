<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ideal Orzulari Xususiy Maktabi - Videodarslar</title>

<style>
/* ======= GLOBAL COLORS ======= */
:root{
    --primary:#1A3D8F;
    --primary-light:#3C63D0;
    --gradient:linear-gradient(135deg,#1A3D8F,#3C63D0);
    --bg:#F2F4FA;
    --white:#ffffff;
    --radius:20px;
    --shadow:0 12px 35px rgba(0,0,0,0.15);
}

body{
    margin:0;
    background:var(--bg);
    font-family:'Poppins', sans-serif;
}

/* ======= HEADER ======= */
header{
    background:var(--gradient);
    padding:40px 20px;
    color:white;
    text-align:center;
    box-shadow:var(--shadow);
}

header h1{
    font-size:34px;
    margin:0;
    letter-spacing:1px;
}

/* ======= CONTAINER ======= */
.container{
    max-width:1200px;
    margin:auto;
    padding:30px 20px;
}

/* ======= SUBJECT CARDS ======= */
h2.title{
    font-size:30px;
    text-align:center;
    color:var(--primary);
    margin-bottom:20px;
}

.subjects{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:25px;
    margin-top:20px;
}

.subject-card{
    background:var(--white);
    padding:30px;
    border-radius:var(--radius);
    text-align:center;
    font-size:22px;
    font-weight:600;
    box-shadow:var(--shadow);
    cursor:pointer;
    transition:0.3s;
}

.subject-card:hover{
    transform:translateY(-8px) scale(1.03);
    box-shadow:0 18px 40px rgba(0,0,0,0.2);
}

/* ======= VIDEO SECTION ======= */
#videoSection{
    display:none;
    animation:fadein .4s ease;
}

@keyframes fadein{
    from{opacity:0;}
    to{opacity:1;}
}

.video-card{
    background:var(--white);
    padding:25px;
    margin-bottom:25px;
    border-radius:var(--radius);
    box-shadow:var(--shadow);
}

video{
    width:100%;
    border-radius:var(--radius);
    margin-top:12px;
}

/* ======= BUTTONS ======= */
.btn{
    background:var(--primary);
    color:white;
    padding:12px 25px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    font-size:16px;
    transition:0.25s;
}

.btn:hover{
    background:var(--primary-light);
}

/* BACK BUTTON */
.back{
    display:inline-block;
    margin-bottom:20px;
    background:var(--primary);
    color:white;
    padding:10px 20px;
    border-radius:12px;
    cursor:pointer;
}

/* ======= ADMIN LOGIN MODAL ======= */
.modal{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.6);
    display:none;
    align-items:center;
    justify-content:center;
}

.modal-content{
    background:white;
    padding:30px;
    border-radius:var(--radius);
    width:90%;
    max-width:400px;
    text-align:center;
    box-shadow:var(--shadow);
}

input{
    width:100%;
    padding:12px;
    border-radius:12px;
    border:1px solid #ccc;
    margin-top:10px;
}

/* ======= UPLOAD PANEL ======= */
#uploadPanel{
    display:none;
    background:white;
    padding:25px;
    box-shadow:var(--shadow);
    border-radius:var(--radius);
    margin-top:40px;
}

select{
    width:100%;
    padding:12px;
    border-radius:12px;
    border:1px solid #ccc;
    margin-top:12px;
}

.admin-row{
    display:flex;
    gap:10px;
}

.admin-btn{
    background:#db1f1f;
    color:white;
    padding:8px 15px;
    border-radius:10px;
    border:none;
    cursor:pointer;
}

.admin-btn:hover{
    background:#ff3c3c;
}
</style>
</head>

<body>

<header>
    <h1>IDEAL ORZULARI XUSUSIY MAKTABI ‚Äî VIDEODARSLAR</h1>
</header>

<div class="container">

<h2 class="title">Fanlar</h2>

<div class="subjects" id="subjectList">
    <div class="subject-card" onclick="openSubject('matematika')">üìò Matematika</div>
    <div class="subject-card" onclick="openSubject('ingliz')">üìó Ingliz tili</div>
    <div class="subject-card" onclick="openSubject('ona')">üìô Ona tili</div>
    <div class="subject-card" onclick="openSubject('fizika')">üìï Fizika</div>
    <div class="subject-card" onclick="openSubject('kimyo')">üß™ Kimyo</div>
    <div class="subject-card" onclick="openSubject('biologiya')">üåø Biologiya</div>
    <div class="subject-card" onclick="openSubject('tarix')">üìú Tarix</div>
    <div class="subject-card" onclick="openSubject('rus')">üìôRus tili</div>
</div>

<div id="videoSection">
    <span class="back" onclick="goBack()">‚¨Ö Orqaga</span>
    <h2 class="title" id="subjectTitle"></h2>
    <div id="videoList"></div>
</div>

<button class="btn" id="adminBtn" onclick="showLogin()">üîê Admin kirish</button>

<!-- ADMIN LOGIN MODAL -->
<div class="modal" id="loginModal">
    <div class="modal-content">
        <h3>Admin paroli</h3>
        <input type="password" id="adminPasswordInput" placeholder="Parol kiriting">
        <button class="btn" onclick="checkAdmin()">Kirish</button>
        <button class="admin-btn" onclick="closeLogin()">Bekor qilish</button>
    </div>
</div>

<!-- UPLOAD PANEL -->
<div id="uploadPanel">
    <h2>Video yuklash</h2>
    <input type="file" id="videoFile" accept="video/*">
    <input type="text" id="videoTitle" placeholder="Video nomi">
    <select id="videoSubject">
        <option value="matematika">Matematika</option>
        <option value="ingliz">Ingliz tili</option>
        <option value="ona">Ona tili</option>
        <option value="fizika">Fizika</option>
        <option value="kimyo">Kimyo</option>
        <option value="biologiya">Biologiya</option>
        <option value="tarix">Tarix</option>
        <option value="rus">Rus tili</option>
    </select>
    <button class="btn" onclick="uploadVideo()">Yuklash</button>
    <p id="uploadMsg" style="color:green;font-weight:600;margin-top:10px;"></p>
</div>

</div>

<script>
const adminPassword = "7000007";
let isAdmin = false;

const videos = JSON.parse(localStorage.getItem("videos") || 
'{"matematika":[],"ingliz":[],"ona":[],"fizika":[],"kimyo":[],"biologiya":[],"tarix":[],"rus":[]}');

function saveVideos(){
    localStorage.setItem("videos", JSON.stringify(videos));
}

/* ===== SHOW SUBJECT VIDEOS ===== */
function openSubject(subject){
    document.getElementById("subjectList").style.display="none";
    document.getElementById("videoSection").style.display="block";
    document.getElementById("subjectTitle").innerText = subject.toUpperCase();

    const list = videos[subject].map((v,i)=>`
        <div class="video-card">
            <h3>${v.title}</h3>
            <video controls><source src="${v.url}"></video>

            ${isAdmin ? `
            <br><button class="admin-btn" onclick="deleteVideo('${subject}',${i})">O‚Äòchirish</button>
            ` : ""}
        </div>
    `).join("");

    document.getElementById("videoList").innerHTML = list || "<p>Video mavjud emas</p>";
}

function goBack(){
    document.getElementById("videoSection").style.display="none";
    document.getElementById("subjectList").style.display="grid";
}

/* ===== ADMIN LOGIN ===== */
function showLogin(){
    document.getElementById("loginModal").style.display="flex";
}

function closeLogin(){
    document.getElementById("loginModal").style.display="none";
}

function checkAdmin(){
    const pwd = document.getElementById("adminPasswordInput").value;
    if(pwd === adminPassword){
        isAdmin = true;
        document.getElementById("uploadPanel").style.display="block";
        document.getElementById("adminBtn").style.display="none";
        closeLogin();
        alert("Admin sifatida kirdingiz.");
    }else{
        alert("Parol noto‚Äòg‚Äòri!");
    }
}

/* ===== VIDEO UPLOAD ===== */
function uploadVideo(){
    if(!isAdmin) return;

    const f = document.getElementById("videoFile").files[0];
    const t = document.getElementById("videoTitle").value;
    const s = document.getElementById("videoSubject").value;

    if(!f || !t){
        alert("Ma'lumotlar to‚Äòliq emas!");
        return;
    }

    const url = URL.createObjectURL(f);
    videos[s].push({title:t,url});
    saveVideos();

    document.getElementById("uploadMsg").innerText="Video muvaffaqiyatli yuklandi!";
}

/* ===== DELETE VIDEO ===== */
function deleteVideo(s,i){
    if(confirm("O‚Äòchirishni tasdiqlaysizmi?")){
        videos[s].splice(i,1);
        saveVideos();
        openSubject(s);
    }
}
</script>

</body>
</html>
